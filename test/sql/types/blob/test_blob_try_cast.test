# name: test/sql/types/blob/test_blob_try_cast.test
# description: Try cast BLOB values
# group: [blob]

# unterminated escape
query I
SELECT TRY_CAST('\\' AS BLOB)
----
NULL

query I
SELECT TRY_CAST('\\x3' AS BLOB)
----
NULL

# invalid hex escape
query I
SELECT TRY_CAST('\\b12' AS BLOB)
----
NULL

query I
SELECT TRY_CAST('\\xx2' AS BLOB)
----
NULL

query I
SELECT TRY_CAST('\\x2x' AS BLOB)
----
NULL

# unescaped ascii
query I
SELECT TRY_CAST('ü' AS BLOB)
----
NULL

query I
SELECT TRY_CAST('\x12' AS BLOB)
----
\x12

statement error
SELECT '\\'::BLOB
----
Conversion Error: Invalid hex escape code encountered in string -> blob conversion: unterminated escape code at end of blob

statement error
SELECT '\\x3'::BLOB
----
Conversion Error: Invalid hex escape code encountered in string -> blob conversion: \\x3

statement error
SELECT '\\b12'::BLOB
----
Conversion Error: Invalid hex escape code encountered in string -> blob conversion: \\b1

statement error
SELECT '\\xx2'::BLOB
----
PLACEHOLDER_ERROR_MESSAGE1015

statement error
SELECT '\\x2x'::BLOB
----
PLACEHOLDER_ERROR_MESSAGE1014

statement error
SELECT 'ü'::BLOB
----
PLACEHOLDER_ERROR_MESSAGE1013

query I
SELECT CAST('\x12' AS BLOB)
----
\x12
