# name: test/sql/transactions/test_transaction_functionality.test
# description: Test basic transaction functionality
# group: [transactions]

statement ok
PRAGMA enable_verification

# cannot commit or rollback in auto commit mode
statement error
COMMIT
----
TransactionContext Error: cannot commit - no transaction is active

statement error
ROLLBACK
----
TransactionContext Error: cannot rollback - no transaction is active

# we can start a transaction
statement ok
START TRANSACTION

# but we cannot start a transaction within a transaction!
statement error
START TRANSACTION
----
TransactionContext Error: cannot start a transaction within a transaction

# now we can rollback
statement ok
ROLLBACK

